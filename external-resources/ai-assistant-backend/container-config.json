{
  "ASR": {
    "port": [
      {
        "container": 9000,
        "host": 9000
      }
    ],
    "command": {
      "start": [
        "sh",
        "./start.sh"
      ],
      "stop": [
        "sh",
        "./stop.sh"
      ]
    },
    "env": {
      "SERVICE_TYPE": "asr"
    },
    "netns": {
      "nsmode": "host"
    }
  },
  "TTS": {
    "port": [
      {
        "container": 8000,
        "host": 8000
      }
    ],
    "command": {
      "start": [
        "sh",
        "./start.sh"
      ],
      "stop": [
        "sh",
        "./stop.sh"
      ]
    },
    "env": {
      "SERVICE_TYPE": "tts",
      "TTS_MODELS": "kokoro"
    },
    "gpuConfig": {
      "forceNvidia": false,
      "forceCPU": true
    },
    "mounts": [
      {
        "Destination": "/app/tts/models/kokoro/voices",
        "Source": "external-resources/ai-assistant-backend/kokoro/voices",
        "Propagation": "rprivate",
        "Type": "bind",
        "RW": true,
        "Options": [
          "rbind"
        ]
      },
      {
        "Destination": "/app/tts/models/index-tts/voices",
        "Source": "external-resources/ai-assistant-backend/index-tts/voices",
        "Propagation": "rprivate",
        "Type": "bind",
        "RW": true,
        "Options": [
          "rbind"
        ]
      }
    ]
  },
  "PDF": {
    "port": [
      {
        "container": 5000,
        "host": 5000
      }
    ],
    "command": {
      "start": [
        "mineru-api",
        "--host",
        "0.0.0.0",
        "--port",
        "5000"
      ],
      "stop": [
        "sh",
        "./stop.sh"
      ]
    },
    "env": {
      "MINERU_MODEL_SOURCE": "local"
    },
    "privileged": true,
    "restart_policy": "no"
  },
  "TRAINING": {
    "port": [
      {
        "container": 3000,
        "host": 7100
      }
    ],
    "command": {
      "start": null,
      "stop": null
    },
    "healthconfig": {
      "Test": [
        "CMD-SHELL",
        "pg_isready -U postgres && curl -f http://127.0.0.1:3000/health || exit 1"
      ],
      "Interval": 3000000000,
      "Timeout": 1000000000,
      "StartPeriod": 10000000000,
      "Retries": 10
    },
    "mounts": [
      {
        "Destination": "/var/lib/postgresql/ala-backup",
        "Source": "%USERDATA%/ala-training/database/ala-backup",
        "Propagation": "rprivate",
        "Type": "bind",
        "RW": true,
        "Options": [
          "rbind"
        ]
      },
      {
        "Destination": "/app/src/config/llm-config.json",
        "Source": "external-resources/config/llm-config.json",
        "Propagation": "rprivate",
        "Type": "bind",
        "RW": false,
        "Options": [
          "rbind"
        ]
      }
    ]
  }
}